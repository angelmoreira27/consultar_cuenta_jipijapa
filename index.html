<!DOCTYPE html>
<html>
  <head>
    <title>Consulta de Contrato #3</title>
      <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
 <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin-top: 100px;
      }
      input {
        padding: 10px;
        font-size: 16px;
        width: 80%;
        max-width: 300px;
      }
      button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #3367d6;
        color: white;
        border: none;
        border-radius: 5px;
      } #loader {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 9999;
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0px 0px 10px #888;
}
    </style>
  </head>
  <body>
  <form>
   <div class="container pt-5">
    <h2>Buscar Contrato</h2>
    <select id="selectdato" name="selectdato" class="form-control">
      <option value="1">Contrato</option>
    </select>
    <br>
    <input class="form-control" id="inputContrato" type="text" placeholder="Ingrese el número de contrato">
    <br>
    <button type="button" onclick="buscarContrato()">Consultar</button>
  </div>
  <div id="loader" style="display: none;">
  <img src="https://cdn.pixabay.com/animation/2023/08/11/21/18/21-18-05-265_512.gif" alt="Cargando..." width="100">
  <p>Cargando datos...</p>
</div>
         <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
          <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		 </form>
 <script>
  function buscarContrato() {
    const selectElement = document.getElementById("selectdato");
    const valoringresar = document.getElementById("inputContrato").value.trim();

    if (!valoringresar) {
      alert("Por favor, ingrese un número de contrato");
      return;
    }

    // Mostrar el GIF de carga
    document.getElementById("loader").style.display = "block";

    let scriptUrl = "";
    if (selectElement.value === "1") {
      scriptUrl = "https://script.google.com/macros/s/AKfycbyM45AVm9qAtz8axQ76WeaEcK3K4bd95wYcvF1iDq6rzr0It3108DzYRszqwpNhCQDZ/exec?contrato=" + valoringresar + "&producto=";
    } 

    // Esperar 0.5 segundos y luego redireccionar
    setTimeout(() => {
      window.location.href = scriptUrl;
    }, 300);
  }
</script>
  </body>

</html>

